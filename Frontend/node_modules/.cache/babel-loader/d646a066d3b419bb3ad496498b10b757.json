{"ast":null,"code":"var _jsxFileName = \"F:\\\\Greenwich\\\\Greenwich\\\\Topup\\\\Final\\\\Social media final project\\\\Frontend\\\\src\\\\contexts\\\\farvoriteContext.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { favoriteReducer } from \"../reducers/favoriteReducer\";\nimport { apiUrl, FAVORITES_LOADED_FAIL, FAVORITES_LOADED_SUCCESS, FAVORITE_CLICK } from \"./constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FavoriteContext = /*#__PURE__*/createContext();\n\nconst FavoriteContextProvider = ({\n  children\n}) => {\n  _s();\n\n  // State\n  const [favoriteState, dispatch] = useReducer(favoriteReducer, {\n    favoriteHome: {},\n    favorite: {},\n    favorites: [],\n    favoritesLoading: true\n  });\n  const favoriteFirst = favoriteState.favorites[favoriteState.favorites.length - 1]; // Get all favorites\n\n  const getFavorites = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/favorites/datafavorites`);\n\n      if (response.data.success) {\n        dispatch({\n          type: FAVORITES_LOADED_SUCCESS,\n          payload: response.data.favorites\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: FAVORITES_LOADED_FAIL\n      });\n    }\n  }; //   // Find id favorite when user is updating favorite\n  //   const findIDFavorite = (favoriteId) => {\n  //     const favorite = favoriteState.favorites.find(\n  //       (favorite) => favorite._id === favoriteId\n  //     );\n  //     dispatch({ type: FAVORITE_CLICK, payload: favorite });\n  //   };\n  // useEffect(() => getFavorites(), []);\n  // // Find id favorite when user click play favorite\n  // const getIdFavoriteHome = (favoriteIdHome) => {\n  //   const favoriteGet = favoriteState.favorites.find(\n  //     (favorite) => favorite._id === favoriteIdHome\n  //   );\n  //   dispatch({\n  //     type: FAVORITE_CLICK_HOME,\n  //     payload: favoriteGet,\n  //   });\n  // };\n  // Delete favorite\n\n\n  const deleteFavorite = async favoriteId => {\n    try {\n      const response = await axios.delete(`${apiUrl}/favorites/delete/${favoriteId}`);\n      if (response.data.success) dispatch({\n        type: DELETE_POST,\n        payload: favoriteId\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }; // favorite context data\n\n\n  const favoriteContextData = {\n    favoriteState,\n    getFavorites,\n    // findIDFavorite,\n    // getIdFavoriteHome,\n    favoriteFirst\n  };\n  return /*#__PURE__*/_jsxDEV(FavoriteContext.Provider, {\n    value: favoriteContextData,\n    children: [\" \", \" \", \" \", children, \" \", \" \", \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 14\n  }, this);\n};\n\n_s(FavoriteContextProvider, \"0hr1VUEiVL+3rJJULkJ3/0wQyP8=\");\n\n_c = FavoriteContextProvider;\nexport default FavoriteContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteContextProvider\");","map":{"version":3,"sources":["F:/Greenwich/Greenwich/Topup/Final/Social media final project/Frontend/src/contexts/farvoriteContext.js"],"names":["axios","createContext","useEffect","useReducer","favoriteReducer","apiUrl","FAVORITES_LOADED_FAIL","FAVORITES_LOADED_SUCCESS","FAVORITE_CLICK","FavoriteContext","FavoriteContextProvider","children","favoriteState","dispatch","favoriteHome","favorite","favorites","favoritesLoading","favoriteFirst","length","getFavorites","response","get","data","success","type","payload","error","deleteFavorite","favoriteId","delete","DELETE_POST","console","log","favoriteContextData"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,UAAnC,QAAqD,OAArD;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,SACIC,MADJ,EAEIC,qBAFJ,EAGIC,wBAHJ,EAIIC,cAJJ,QAKO,aALP;;AAOA,OAAO,MAAMC,eAAe,gBAAGR,aAAa,EAArC;;AAEP,MAAMS,uBAAuB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC9C;AACA,QAAM,CAACC,aAAD,EAAgBC,QAAhB,IAA4BV,UAAU,CAACC,eAAD,EAAkB;AAC1DU,IAAAA,YAAY,EAAE,EAD4C;AAE1DC,IAAAA,QAAQ,EAAE,EAFgD;AAG1DC,IAAAA,SAAS,EAAE,EAH+C;AAI1DC,IAAAA,gBAAgB,EAAE;AAJwC,GAAlB,CAA5C;AAOA,QAAMC,aAAa,GACfN,aAAa,CAACI,SAAd,CAAwBJ,aAAa,CAACI,SAAd,CAAwBG,MAAxB,GAAiC,CAAzD,CADJ,CAT8C,CAY9C;;AACA,QAAMC,YAAY,GAAG,YAAW;AAC5B,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,GAAN,CAAW,GAAEjB,MAAO,0BAApB,CAAvB;;AACA,UAAIgB,QAAQ,CAACE,IAAT,CAAcC,OAAlB,EAA2B;AACvBX,QAAAA,QAAQ,CAAC;AACLY,UAAAA,IAAI,EAAElB,wBADD;AAELmB,UAAAA,OAAO,EAAEL,QAAQ,CAACE,IAAT,CAAcP;AAFlB,SAAD,CAAR;AAIH;AACJ,KARD,CAQE,OAAOW,KAAP,EAAc;AACZd,MAAAA,QAAQ,CAAC;AAAEY,QAAAA,IAAI,EAAEnB;AAAR,OAAD,CAAR;AACH;AACJ,GAZD,CAb8C,CA2B9C;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAMsB,cAAc,GAAG,MAAMC,UAAN,IAAqB;AACxC,QAAI;AACA,YAAMR,QAAQ,GAAG,MAAMrB,KAAK,CAAC8B,MAAN,CAClB,GAAEzB,MAAO,qBAAoBwB,UAAW,EADtB,CAAvB;AAGA,UAAIR,QAAQ,CAACE,IAAT,CAAcC,OAAlB,EACIX,QAAQ,CAAC;AAAEY,QAAAA,IAAI,EAAEM,WAAR;AAAqBL,QAAAA,OAAO,EAAEG;AAA9B,OAAD,CAAR;AACP,KAND,CAME,OAAOF,KAAP,EAAc;AACZK,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACH;AACJ,GAVD,CA/C8C,CA2D9C;;;AACA,QAAMO,mBAAmB,GAAG;AACxBtB,IAAAA,aADwB;AAExBQ,IAAAA,YAFwB;AAGxB;AACA;AACAF,IAAAA;AALwB,GAA5B;AAOA,sBAAS,QACL,eADK,CACW,QADX;AACoB,IAAA,KAAK,EAAKgB,mBAD9B;AAAA,oBACwD,GADxD,OACgEvB,QADhE,OAC6E,GAD7E;AAAA;AAAA;AAAA;AAAA;AAAA,UAAT;AAIH,CAvED;;GAAMD,uB;;KAAAA,uB;AAyEN,eAAeA,uBAAf","sourcesContent":["import axios from \"axios\";\r\nimport { createContext, useEffect, useReducer } from \"react\";\r\nimport { favoriteReducer } from \"../reducers/favoriteReducer\";\r\nimport {\r\n    apiUrl,\r\n    FAVORITES_LOADED_FAIL,\r\n    FAVORITES_LOADED_SUCCESS,\r\n    FAVORITE_CLICK,\r\n} from \"./constants\";\r\n\r\nexport const FavoriteContext = createContext();\r\n\r\nconst FavoriteContextProvider = ({ children }) => {\r\n    // State\r\n    const [favoriteState, dispatch] = useReducer(favoriteReducer, {\r\n        favoriteHome: {},\r\n        favorite: {},\r\n        favorites: [],\r\n        favoritesLoading: true,\r\n    });\r\n\r\n    const favoriteFirst =\r\n        favoriteState.favorites[favoriteState.favorites.length - 1];\r\n\r\n    // Get all favorites\r\n    const getFavorites = async() => {\r\n        try {\r\n            const response = await axios.get(`${apiUrl}/favorites/datafavorites`);\r\n            if (response.data.success) {\r\n                dispatch({\r\n                    type: FAVORITES_LOADED_SUCCESS,\r\n                    payload: response.data.favorites,\r\n                });\r\n            }\r\n        } catch (error) {\r\n            dispatch({ type: FAVORITES_LOADED_FAIL });\r\n        }\r\n    };\r\n\r\n    //   // Find id favorite when user is updating favorite\r\n    //   const findIDFavorite = (favoriteId) => {\r\n    //     const favorite = favoriteState.favorites.find(\r\n    //       (favorite) => favorite._id === favoriteId\r\n    //     );\r\n    //     dispatch({ type: FAVORITE_CLICK, payload: favorite });\r\n    //   };\r\n\r\n    // useEffect(() => getFavorites(), []);\r\n    // // Find id favorite when user click play favorite\r\n    // const getIdFavoriteHome = (favoriteIdHome) => {\r\n    //   const favoriteGet = favoriteState.favorites.find(\r\n    //     (favorite) => favorite._id === favoriteIdHome\r\n    //   );\r\n    //   dispatch({\r\n    //     type: FAVORITE_CLICK_HOME,\r\n    //     payload: favoriteGet,\r\n    //   });\r\n    // };\r\n    // Delete favorite\r\n    const deleteFavorite = async(favoriteId) => {\r\n        try {\r\n            const response = await axios.delete(\r\n                `${apiUrl}/favorites/delete/${favoriteId}`\r\n            );\r\n            if (response.data.success)\r\n                dispatch({ type: DELETE_POST, payload: favoriteId });\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    // favorite context data\r\n    const favoriteContextData = {\r\n        favoriteState,\r\n        getFavorites,\r\n        // findIDFavorite,\r\n        // getIdFavoriteHome,\r\n        favoriteFirst,\r\n    };\r\n    return ( <\r\n        FavoriteContext.Provider value = { favoriteContextData } > { \" \" } { children } { \" \" } <\r\n        /FavoriteContext.Provider>\r\n    );\r\n};\r\n\r\nexport default FavoriteContextProvider;"]},"metadata":{},"sourceType":"module"}