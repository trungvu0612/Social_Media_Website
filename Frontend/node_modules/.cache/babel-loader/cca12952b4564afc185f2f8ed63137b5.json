{"ast":null,"code":"var _jsxFileName = \"F:\\\\Greenwich\\\\Greenwich\\\\Topup\\\\Final\\\\Social media final project\\\\Frontend\\\\src\\\\contexts\\\\farvoriteContext.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { favoriteReducer } from \"../reducers/favoriteReducer\";\nimport { apiUrl, FAVORITES_LOADED_FAIL, FAVORITES_LOADED_SUCCESS, FAVORITE_CLICK, FAVORITE_CLICK_HOME } from \"./constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FavoriteContext = /*#__PURE__*/createContext();\n\nconst FavoriteContextProvider = ({\n  children\n}) => {\n  _s();\n\n  // State\n  const [favoriteState, dispatch] = useReducer(favoriteReducer, {\n    favoriteHome: {},\n    favorite: {},\n    favorites: [],\n    favoritesLoading: true\n  });\n  const favoriteFirst = favoriteState.favorites[favoriteState.favorites.length - 1];\n  console.log(favoriteFirst); // Get all posts\n\n  const getFavorites = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/favorites/datafavorites`);\n\n      if (response.data.success) {\n        dispatch({\n          type: FAVORITES_LOADED_SUCCESS,\n          payload: response.data.favorites\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: FAVORITES_LOADED_FAIL\n      });\n    }\n  }; //   // Find id favorite when user is updating post\n  //   const findIDFavorite = (favoriteId) => {\n  //     const favorite = favoriteState.favorites.find(\n  //       (favorite) => favorite._id === favoriteId\n  //     );\n  //     dispatch({ type: FAVORITE_CLICK, payload: favorite });\n  //   };\n  //   useEffect(() => getFavorites(), []);\n  //   // Find id favorite when user click play favorite\n  //   const getIdFavoriteHome = (favoriteIdHome) => {\n  //     const favoriteGet = favoriteState.favorites.find(\n  //       (favorite) => favorite._id === favoriteIdHome\n  //     );\n  //     dispatch({\n  //       type: FAVORITE_CLICK_HOME,\n  //       payload: favoriteGet,\n  //     });\n  //   };\n  // favorite context data\n\n\n  const favoriteContextData = {\n    favoriteState,\n    getFavorites,\n    // findIDFavorite,\n    getIdFavoriteHome,\n    favoriteFirst\n  };\n  return /*#__PURE__*/_jsxDEV(FavoriteContext.Provider, {\n    value: favoriteContextData,\n    children: [\" \", children, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FavoriteContextProvider, \"OIPg4lcMXeyLP6TNTgkvRcL1N1Y=\");\n\n_c = FavoriteContextProvider;\nexport default FavoriteContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteContextProvider\");","map":{"version":3,"sources":["F:/Greenwich/Greenwich/Topup/Final/Social media final project/Frontend/src/contexts/farvoriteContext.js"],"names":["axios","createContext","useEffect","useReducer","favoriteReducer","apiUrl","FAVORITES_LOADED_FAIL","FAVORITES_LOADED_SUCCESS","FAVORITE_CLICK","FAVORITE_CLICK_HOME","FavoriteContext","FavoriteContextProvider","children","favoriteState","dispatch","favoriteHome","favorite","favorites","favoritesLoading","favoriteFirst","length","console","log","getFavorites","response","get","data","success","type","payload","error","favoriteContextData","getIdFavoriteHome"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,UAAnC,QAAqD,OAArD;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,SACEC,MADF,EAEEC,qBAFF,EAGEC,wBAHF,EAIEC,cAJF,EAKEC,mBALF,QAMO,aANP;;AAQA,OAAO,MAAMC,eAAe,gBAAGT,aAAa,EAArC;;AAEP,MAAMU,uBAAuB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAChD;AACA,QAAM,CAACC,aAAD,EAAgBC,QAAhB,IAA4BX,UAAU,CAACC,eAAD,EAAkB;AAC5DW,IAAAA,YAAY,EAAE,EAD8C;AAE5DC,IAAAA,QAAQ,EAAE,EAFkD;AAG5DC,IAAAA,SAAS,EAAE,EAHiD;AAI5DC,IAAAA,gBAAgB,EAAE;AAJ0C,GAAlB,CAA5C;AAOA,QAAMC,aAAa,GACjBN,aAAa,CAACI,SAAd,CAAwBJ,aAAa,CAACI,SAAd,CAAwBG,MAAxB,GAAiC,CAAzD,CADF;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,aAAZ,EAXgD,CAahD;;AACA,QAAMI,YAAY,GAAG,YAAY;AAC/B,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMxB,KAAK,CAACyB,GAAN,CAAW,GAAEpB,MAAO,0BAApB,CAAvB;;AACA,UAAImB,QAAQ,CAACE,IAAT,CAAcC,OAAlB,EAA2B;AACzBb,QAAAA,QAAQ,CAAC;AACPc,UAAAA,IAAI,EAAErB,wBADC;AAEPsB,UAAAA,OAAO,EAAEL,QAAQ,CAACE,IAAT,CAAcT;AAFhB,SAAD,CAAR;AAID;AACF,KARD,CAQE,OAAOa,KAAP,EAAc;AACdhB,MAAAA,QAAQ,CAAC;AAAEc,QAAAA,IAAI,EAAEtB;AAAR,OAAD,CAAR;AACD;AACF,GAZD,CAdgD,CA4BhD;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACA,QAAMyB,mBAAmB,GAAG;AAC1BlB,IAAAA,aAD0B;AAE1BU,IAAAA,YAF0B;AAG1B;AACAS,IAAAA,iBAJ0B;AAK1Bb,IAAAA;AAL0B,GAA5B;AAOA,sBACE,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAEY,mBAAjC;AAAA,eACG,GADH,EAEGnB,QAFH,EAEa,GAFb;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CA9DD;;GAAMD,uB;;KAAAA,uB;AAgEN,eAAeA,uBAAf","sourcesContent":["import axios from \"axios\";\r\nimport { createContext, useEffect, useReducer } from \"react\";\r\nimport { favoriteReducer } from \"../reducers/favoriteReducer\";\r\nimport {\r\n  apiUrl,\r\n  FAVORITES_LOADED_FAIL,\r\n  FAVORITES_LOADED_SUCCESS,\r\n  FAVORITE_CLICK,\r\n  FAVORITE_CLICK_HOME,\r\n} from \"./constants\";\r\n\r\nexport const FavoriteContext = createContext();\r\n\r\nconst FavoriteContextProvider = ({ children }) => {\r\n  // State\r\n  const [favoriteState, dispatch] = useReducer(favoriteReducer, {\r\n    favoriteHome: {},\r\n    favorite: {},\r\n    favorites: [],\r\n    favoritesLoading: true,\r\n  });\r\n\r\n  const favoriteFirst =\r\n    favoriteState.favorites[favoriteState.favorites.length - 1];\r\n  console.log(favoriteFirst);\r\n\r\n  // Get all posts\r\n  const getFavorites = async () => {\r\n    try {\r\n      const response = await axios.get(`${apiUrl}/favorites/datafavorites`);\r\n      if (response.data.success) {\r\n        dispatch({\r\n          type: FAVORITES_LOADED_SUCCESS,\r\n          payload: response.data.favorites,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      dispatch({ type: FAVORITES_LOADED_FAIL });\r\n    }\r\n  };\r\n\r\n  //   // Find id favorite when user is updating post\r\n  //   const findIDFavorite = (favoriteId) => {\r\n  //     const favorite = favoriteState.favorites.find(\r\n  //       (favorite) => favorite._id === favoriteId\r\n  //     );\r\n  //     dispatch({ type: FAVORITE_CLICK, payload: favorite });\r\n  //   };\r\n\r\n  //   useEffect(() => getFavorites(), []);\r\n  //   // Find id favorite when user click play favorite\r\n  //   const getIdFavoriteHome = (favoriteIdHome) => {\r\n  //     const favoriteGet = favoriteState.favorites.find(\r\n  //       (favorite) => favorite._id === favoriteIdHome\r\n  //     );\r\n  //     dispatch({\r\n  //       type: FAVORITE_CLICK_HOME,\r\n  //       payload: favoriteGet,\r\n  //     });\r\n  //   };\r\n\r\n  // favorite context data\r\n  const favoriteContextData = {\r\n    favoriteState,\r\n    getFavorites,\r\n    // findIDFavorite,\r\n    getIdFavoriteHome,\r\n    favoriteFirst,\r\n  };\r\n  return (\r\n    <FavoriteContext.Provider value={favoriteContextData}>\r\n      {\" \"}\r\n      {children}{\" \"}\r\n    </FavoriteContext.Provider>\r\n  );\r\n};\r\n\r\nexport default FavoriteContextProvider;\r\n"]},"metadata":{},"sourceType":"module"}