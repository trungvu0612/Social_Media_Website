{"ast":null,"code":"var _jsxFileName = \"F:\\\\Greenwich\\\\Greenwich\\\\Topup\\\\Final\\\\Social media final project\\\\Frontend\\\\src\\\\contexts\\\\farvoriteContext.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { favoriteReducer } from \"../reducers/favoriteReducer\";\nimport { apiUrl, DELETE_FAVORITE, FAVORITES_LOADED_FAIL, FAVORITES_LOADED_SUCCESS, FAVORITE_CLICK } from \"./constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FavoriteContext = /*#__PURE__*/createContext();\n\nconst FavoriteContextProvider = ({\n  children\n}) => {\n  _s();\n\n  // State\n  const [favoriteState, dispatch] = useReducer(favoriteReducer, {\n    favoriteHome: {},\n    favorite: {},\n    favorites: [],\n    favoritesLoading: true\n  });\n  const favoriteFirst = favoriteState.favorites[favoriteState.favorites.length - 1]; // Get all favorites\n\n  const getFavorites = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/favorites/datafavorites`);\n\n      if (response.data.success) {\n        dispatch({\n          type: FAVORITES_LOADED_SUCCESS,\n          payload: response.data.favorites\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: FAVORITES_LOADED_FAIL\n      });\n    }\n  }; //   // Find id favorite when user is updating favorite\n  //   const findIDFavorite = (favoriteId) => {\n  //     const favorite = favoriteState.favorites.find(\n  //       (favorite) => favorite._id === favoriteId\n  //     );\n  //     dispatch({ type: FAVORITE_CLICK, payload: favorite });\n  //   };\n  // useEffect(() => getFavorites(), []);\n  // // Find id favorite when user click play favorite\n  // const getIdFavoriteHome = (favoriteIdHome) => {\n  //   const favoriteGet = favoriteState.favorites.find(\n  //     (favorite) => favorite._id === favoriteIdHome\n  //   );\n  //   dispatch({\n  //     type: FAVORITE_CLICK_HOME,\n  //     payload: favoriteGet,\n  //   });\n  // };\n  // Delete favorite\n\n\n  const deleteFavorite = async favoriteId => {\n    try {\n      const response = await axios.delete(`${apiUrl}/favorites/delete/${favoriteId}`);\n      if (response.data.success) dispatch({\n        type: DELETE_FAVORITE,\n        payload: favoriteId\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }; // favorite context data\n\n\n  const favoriteContextData = {\n    favoriteState,\n    getFavorites,\n    // findIDFavorite,\n    // getIdFavoriteHome,\n    favoriteFirst\n  };\n  return /*#__PURE__*/_jsxDEV(FavoriteContext.Provider, {\n    value: favoriteContextData,\n    children: [\" \", children, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FavoriteContextProvider, \"OIPg4lcMXeyLP6TNTgkvRcL1N1Y=\");\n\n_c = FavoriteContextProvider;\nexport default FavoriteContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteContextProvider\");","map":{"version":3,"sources":["F:/Greenwich/Greenwich/Topup/Final/Social media final project/Frontend/src/contexts/farvoriteContext.js"],"names":["axios","createContext","useEffect","useReducer","favoriteReducer","apiUrl","DELETE_FAVORITE","FAVORITES_LOADED_FAIL","FAVORITES_LOADED_SUCCESS","FAVORITE_CLICK","FavoriteContext","FavoriteContextProvider","children","favoriteState","dispatch","favoriteHome","favorite","favorites","favoritesLoading","favoriteFirst","length","getFavorites","response","get","data","success","type","payload","error","deleteFavorite","favoriteId","delete","console","log","favoriteContextData"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,UAAnC,QAAqD,OAArD;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,SACEC,MADF,EAEEC,eAFF,EAGEC,qBAHF,EAIEC,wBAJF,EAKEC,cALF,QAMO,aANP;;AAQA,OAAO,MAAMC,eAAe,gBAAGT,aAAa,EAArC;;AAEP,MAAMU,uBAAuB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAChD;AACA,QAAM,CAACC,aAAD,EAAgBC,QAAhB,IAA4BX,UAAU,CAACC,eAAD,EAAkB;AAC5DW,IAAAA,YAAY,EAAE,EAD8C;AAE5DC,IAAAA,QAAQ,EAAE,EAFkD;AAG5DC,IAAAA,SAAS,EAAE,EAHiD;AAI5DC,IAAAA,gBAAgB,EAAE;AAJ0C,GAAlB,CAA5C;AAOA,QAAMC,aAAa,GACjBN,aAAa,CAACI,SAAd,CAAwBJ,aAAa,CAACI,SAAd,CAAwBG,MAAxB,GAAiC,CAAzD,CADF,CATgD,CAYhD;;AACA,QAAMC,YAAY,GAAG,YAAY;AAC/B,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,GAAN,CAAW,GAAElB,MAAO,0BAApB,CAAvB;;AACA,UAAIiB,QAAQ,CAACE,IAAT,CAAcC,OAAlB,EAA2B;AACzBX,QAAAA,QAAQ,CAAC;AACPY,UAAAA,IAAI,EAAElB,wBADC;AAEPmB,UAAAA,OAAO,EAAEL,QAAQ,CAACE,IAAT,CAAcP;AAFhB,SAAD,CAAR;AAID;AACF,KARD,CAQE,OAAOW,KAAP,EAAc;AACdd,MAAAA,QAAQ,CAAC;AAAEY,QAAAA,IAAI,EAAEnB;AAAR,OAAD,CAAR;AACD;AACF,GAZD,CAbgD,CA2BhD;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAMsB,cAAc,GAAG,MAAOC,UAAP,IAAsB;AAC3C,QAAI;AACF,YAAMR,QAAQ,GAAG,MAAMtB,KAAK,CAAC+B,MAAN,CACpB,GAAE1B,MAAO,qBAAoByB,UAAW,EADpB,CAAvB;AAGA,UAAIR,QAAQ,CAACE,IAAT,CAAcC,OAAlB,EACEX,QAAQ,CAAC;AAAEY,QAAAA,IAAI,EAAEpB,eAAR;AAAyBqB,QAAAA,OAAO,EAAEG;AAAlC,OAAD,CAAR;AACH,KAND,CAME,OAAOF,KAAP,EAAc;AACdI,MAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACD;AACF,GAVD,CA/CgD,CA2DhD;;;AACA,QAAMM,mBAAmB,GAAG;AAC1BrB,IAAAA,aAD0B;AAE1BQ,IAAAA,YAF0B;AAG1B;AACA;AACAF,IAAAA;AAL0B,GAA5B;AAOA,sBACE,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAEe,mBAAjC;AAAA,eACG,GADH,EAEGtB,QAFH,EAEa,GAFb;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CAzED;;GAAMD,uB;;KAAAA,uB;AA2EN,eAAeA,uBAAf","sourcesContent":["import axios from \"axios\";\r\nimport { createContext, useEffect, useReducer } from \"react\";\r\nimport { favoriteReducer } from \"../reducers/favoriteReducer\";\r\nimport {\r\n  apiUrl,\r\n  DELETE_FAVORITE,\r\n  FAVORITES_LOADED_FAIL,\r\n  FAVORITES_LOADED_SUCCESS,\r\n  FAVORITE_CLICK,\r\n} from \"./constants\";\r\n\r\nexport const FavoriteContext = createContext();\r\n\r\nconst FavoriteContextProvider = ({ children }) => {\r\n  // State\r\n  const [favoriteState, dispatch] = useReducer(favoriteReducer, {\r\n    favoriteHome: {},\r\n    favorite: {},\r\n    favorites: [],\r\n    favoritesLoading: true,\r\n  });\r\n\r\n  const favoriteFirst =\r\n    favoriteState.favorites[favoriteState.favorites.length - 1];\r\n\r\n  // Get all favorites\r\n  const getFavorites = async () => {\r\n    try {\r\n      const response = await axios.get(`${apiUrl}/favorites/datafavorites`);\r\n      if (response.data.success) {\r\n        dispatch({\r\n          type: FAVORITES_LOADED_SUCCESS,\r\n          payload: response.data.favorites,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      dispatch({ type: FAVORITES_LOADED_FAIL });\r\n    }\r\n  };\r\n\r\n  //   // Find id favorite when user is updating favorite\r\n  //   const findIDFavorite = (favoriteId) => {\r\n  //     const favorite = favoriteState.favorites.find(\r\n  //       (favorite) => favorite._id === favoriteId\r\n  //     );\r\n  //     dispatch({ type: FAVORITE_CLICK, payload: favorite });\r\n  //   };\r\n\r\n  // useEffect(() => getFavorites(), []);\r\n  // // Find id favorite when user click play favorite\r\n  // const getIdFavoriteHome = (favoriteIdHome) => {\r\n  //   const favoriteGet = favoriteState.favorites.find(\r\n  //     (favorite) => favorite._id === favoriteIdHome\r\n  //   );\r\n  //   dispatch({\r\n  //     type: FAVORITE_CLICK_HOME,\r\n  //     payload: favoriteGet,\r\n  //   });\r\n  // };\r\n  // Delete favorite\r\n  const deleteFavorite = async (favoriteId) => {\r\n    try {\r\n      const response = await axios.delete(\r\n        `${apiUrl}/favorites/delete/${favoriteId}`\r\n      );\r\n      if (response.data.success)\r\n        dispatch({ type: DELETE_FAVORITE, payload: favoriteId });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // favorite context data\r\n  const favoriteContextData = {\r\n    favoriteState,\r\n    getFavorites,\r\n    // findIDFavorite,\r\n    // getIdFavoriteHome,\r\n    favoriteFirst,\r\n  };\r\n  return (\r\n    <FavoriteContext.Provider value={favoriteContextData}>\r\n      {\" \"}\r\n      {children}{\" \"}\r\n    </FavoriteContext.Provider>\r\n  );\r\n};\r\n\r\nexport default FavoriteContextProvider;\r\n"]},"metadata":{},"sourceType":"module"}